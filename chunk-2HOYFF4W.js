
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d9236421-530d-5550-92de-cc30bd2f051b")}catch(e){}}();
import{a as F}from"./chunk-C2GV5OS6.js";import{a as T,c as D,f as I,i as V,o as $}from"./chunk-U5JLPOF6.js";import"./chunk-Z227VDA2.js";import{B as S,Ga as L,O as _,P as C,T as v,_ as a,aa as w,ba as l,bb as u,fa as g,h as f,ja as p,lb as E,ma as c,pa as O,qa as P,ra as i,sa as o,ta as k,ua as b,v as x,va as d,wa as h,xa as s,y,ya as M}from"./chunk-XZX3LLVG.js";function Q(e,m){if(e&1){let t=b();i(0,"button",3),d("click",function(){_(t);let r=h();return C(r.resetSearch())}),s(1," \xD7 "),o()}}var Y=(()=>{class e{searchControl=new I("");search=new v;destroy$=new f;ngOnInit(){this.searchControl.valueChanges.pipe(S(this.destroy$),x(300),y()).subscribe(t=>{this.search.emit(t||"")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}resetSearch(){this.searchControl.setValue(""),this.search.emit("")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l({type:e,selectors:[["app-search-streamer"]],outputs:{search:"search"},decls:3,vars:2,consts:[[1,"search-input-wrapper"],["id","search-input","type","text","placeholder","Search streamers...",1,"search-input",3,"formControl"],["aria-label","Clear search",1,"reset-button"],["aria-label","Clear search",1,"reset-button",3,"click"]],template:function(n,r){n&1&&(i(0,"div",0),k(1,"input",1),g(2,Q,2,0,"button",2),o()),n&2&&(a(),p("formControl",r.searchControl),a(),c(r.searchControl.value?2:-1))},dependencies:[u,$,T,D,V],styles:[`.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 2.5rem .5rem .5rem;font-size:1rem;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-primary);color:var(--text-primary)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.reset-button[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);font-size:1.2rem;cursor:pointer;padding:.25rem .5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.reset-button[_ngcontent-%COMP%]:hover{background-color:var(--bg-hover);color:var(--text-primary)}
/*# sourceMappingURL=search-streamer.component-6DCV472E.css.map */`]})}return e})();var A=e=>["/streamer",e],H=(e,m)=>m.id;function N(e,m){if(e&1&&(i(0,"p",7),s(1),o()),e&2){let t=h().$implicit;a(),M(t.description)}}function B(e,m){if(e&1&&(i(0,"a",1)(1,"div",5)(2,"h3"),s(3),o(),i(4,"div",6),s(5),o(),g(6,N,2,1,"p",7),o()()),e&2){let t=m.$implicit;p("routerLink",L(4,A,t.username)),a(3),M(t.nickname||t.username),a(2),M("@"+t.username),a(),c(t.description?6:-1)}}function G(e,m){e&1&&(i(0,"div",2),s(1,"Loading..."),o())}function W(e,m){if(e&1){let t=b();i(0,"button",8),d("click",function(){_(t);let r=h();return C(r.loadMore.emit())}),s(1,"Load More"),o()}}function X(e,m){e&1&&(i(0,"div",4),s(1,"No streamers found"),o())}var R=(()=>{class e{streamers=[];loading=!1;hasMore=!0;loadMore=new v;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l({type:e,selectors:[["app-list-streamer"]],inputs:{streamers:"streamers",loading:"loading",hasMore:"hasMore"},outputs:{loadMore:"loadMore"},decls:6,vars:3,consts:[[1,"streamer-grid"],["role","button","tabindex","0",1,"streamer-card",3,"routerLink"],[1,"loading-state"],[1,"load-more-button"],[1,"empty-state"],[1,"streamer-content"],[1,"streamer-username"],[1,"streamer-description"],[1,"load-more-button",3,"click"]],template:function(n,r){n&1&&(i(0,"div",0),O(1,B,7,6,"a",1,H),o(),g(3,G,2,0,"div",2)(4,W,2,0,"button",3)(5,X,2,0,"div",4)),n&2&&(a(),P(r.streamers),a(2),c(r.loading?3:-1),a(),c(!r.loading&&r.hasMore?4:-1),a(),c(!r.loading&&!r.hasMore&&r.streamers.length===0?5:-1))},dependencies:[u,E],styles:[`.streamer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;margin-bottom:1.5rem}.streamer-card[_ngcontent-%COMP%]{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;box-shadow:var(--shadow-sm);transition:all .2s ease;cursor:pointer;text-decoration:none;color:inherit;display:block;overflow:hidden}.streamer-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--border-color)}.streamer-card[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary);outline-offset:2px}.streamer-content[_ngcontent-%COMP%]{padding:1.5rem}.streamer-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.2rem;color:var(--text-primary);font-weight:600}.streamer-username[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;margin-bottom:.75rem}.streamer-description[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.95rem;line-height:1.5}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-secondary);font-size:1rem;background:var(--bg-secondary);border-radius:8px;margin:1rem 0}.load-more-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;margin-top:1.5rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;font-size:1rem;color:var(--text-primary);font-weight:500;transition:all .2s ease}.load-more-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-hover);transform:translateY(-1px);box-shadow:var(--shadow-sm)}.load-more-button[_ngcontent-%COMP%]:disabled{background:var(--bg-secondary);color:var(--text-muted);cursor:not-allowed;border-color:var(--border-color)}@media (max-width: 640px){.streamer-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.streamer-content[_ngcontent-%COMP%]{padding:1.25rem}}
/*# sourceMappingURL=list-streamer.component-GD2WHH35.css.map */`]})}return e})();var fe=(()=>{class e{streamerService;streamers=[];loading=!1;hasMore=!0;destroy$=new f;lastId;searchQuery="";constructor(t){this.streamerService=t}ngOnInit(){this.loadMore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(t){this.searchQuery=t,this.resetAndLoad()}loadMore(){this.loading||!this.hasMore||(this.loading=!0,this.streamerService.getStreamerList({searchQuery:this.searchQuery,lastId:this.lastId,pageSize:12}).subscribe({next:t=>{this.streamers=[...this.streamers,...t.streamers],this.hasMore=t.hasMore,t.streamers.length>0&&(this.lastId=t.streamers[t.streamers.length-1].id),this.loading=!1},error:t=>{console.error("Error loading streamers:",t),this.loading=!1}}))}resetAndLoad(){this.streamers=[],this.lastId=void 0,this.hasMore=!0,this.loadMore()}static \u0275fac=function(n){return new(n||e)(w(F))};static \u0275cmp=l({type:e,selectors:[["app-streamer-list"]],decls:5,vars:3,consts:[[1,"streamer-list-container"],[1,"streamer-list-card"],[1,"search-container"],[3,"search"],[3,"loadMore","streamers","loading","hasMore"]],template:function(n,r){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search-streamer",3),d("search",function(j){return r.onSearch(j)}),o()(),i(4,"app-list-streamer",4),d("loadMore",function(){return r.loadMore()}),o()()()),n&2&&(a(4),p("streamers",r.streamers)("loading",r.loading)("hasMore",r.hasMore))},dependencies:[u,Y,R],styles:[`.streamer-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.streamer-list-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:16px;box-shadow:var(--shadow-md);padding:2rem}.search-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 640px){.streamer-list-container[_ngcontent-%COMP%]{padding:1rem}.streamer-list-card[_ngcontent-%COMP%]{padding:1.5rem}}
/*# sourceMappingURL=streamer-list.component-YXVOYDBY.css.map */`]})}return e})();export{fe as StreamerListComponent};
//# sourceMappingURL=chunk-2HOYFF4W.js.map

//# debugId=d9236421-530d-5550-92de-cc30bd2f051b
